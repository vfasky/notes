define("catke/placeholder",["jquery","catke/util","catke/task"],function(t,i,e){"use strict";if(!i.ie||i.ie>9)return function(){};var s=0,n=function(i,n){var o=this;this.id=s,s++,this.$el=i,this.config=t.extend({color:"#999"},n||{}),this.$tip=this.build(),this.set(this.$el.attr("placeholder")),this.buildCss(),this.isHidden()&&new e(function(t){!1===o.isHidden()&&(o.setPostion(),t.remove())}),this.$parent=this.$el.parent(),"static"===this.$parent.css("position")&&this.$parent.css("position","relative"),this.setPostion(),this.$tip.insertAfter(this.$el).click(function(){o.$el.focus()}),this.$el.on("blur change",function(){""===t.trim(o.$el.val())?o.$tip.show():o.$tip.hide()}).on("focus",function(){o.$tip.hide()}),""!==t.trim(this.$el.val())&&o.$tip.hide(),t(window).on("resize.placeholder"+this.id+", scroll.placeholder"+this.id,function(){!1===o.isHidden()&&o.setPostion()})};return n.prototype.isHidden=function(){return!1===this.$el.is(":visible")},n.prototype.setPostion=function(){var t=this.$el.position();this.$tip.css(t)},n.prototype.set=function(i){this.$tip.text(i),""!==t.trim(this.$el.val())&&this.$tip.hide()},n.prototype.build=function(){var i=t("<span></span>");return i},n.prototype.buildCss=function(){var t=this,i=t.$el.outerHeight();this.$tip.css({color:t.config.color,fontSize:t.$el.css("fontSize")||"12px",padding:t.$el.css("padding")||"0",paddingTop:0,paddingLeft:t.$el.css("paddingLeft"),margin:t.$el.css("margin")||"0",width:t.$el.outerWidth(),height:i,lineHeight:i+"px",position:"absolute"})},function(i){i=i||t("[placeholder]"),i.each(function(){var i=t(this),e=i.data("placeholder");e?e.set&&e.set(i.attr("placeholder")):(e=new n(i),i.data("placeholder",e))})}}),define("catke/task",["jquery"],function(t){"use strict";var i=0,e=[],s=null,n=function(){var i=0;return t.each(e,function(t,e){e&&i++}),i},o=function(){!s&&n()>0&&(s=setInterval(function(){t.each(e,function(i,e){e&&t.isFunction(e.callback)&&e.callback(e)})},200))},r=function(t){this.id=i,this.callback=t,i++,this.run()};return r.prototype.run=function(){var i=!1,s=this;t.each(e,function(t,e){return e&&e.id===s.id?(i=!0,!1):void 0}),!1===i&&e.push(this),o()},r.prototype.remove=function(){var i=this;t.each(e,function(t,s){return s&&s.id===i.id?(delete e[t],!1):void 0}),0===n()&&s&&(clearInterval(s),e=[],s=null)},r}),define("catke/tooltips",["jquery"],function(t){"use strict";var i=function(i,e){this.$element=i,this.options=t.extend({},{delay:0,content:"",tipClass:"",placement:"right",trigger:"hover click",container:document.body},e),this.init()};return i.prototype.init=function(){this.$tips=t('<div class="ck-tooltips"><div class="tooltips-arrow"></div><div class="tooltips-title"></div><div class="tooltips-inner"></div></div>'),this.$tips.addClass(this.options.placement).addClass(this.options.tipClass),this.setContent(),this.isShow=!1,this.$el=this.$tips;for(var i,e=this.options.trigger.split(" "),s=0;s<e.length;s++)if(i=e[s],"click"===i)this.$element.on(i+".ck-tooltips",t.proxy(this.toggle,this));else if("manual"!==i){var n="hover"===i?"mouseenter":"focus",o="hover"===i?"mouseleave":"blur";this.$element.on(n,t.proxy(this.show,this)),this.$element.on(o,t.proxy(this.hide,this))}this.options.container?this.$tips.appendTo(this.options.container):this.$tips.insertAfter(this.$element),this.hide()},i.prototype.setContent=function(i){i=t.trim(i||this.options.content),0===i.length&&(i=this.$element.attr("data-content")||"");var e=this.$tips;e.find(".tooltips-inner").html(i)},i.prototype.setPosition=function(){var t=this.getOffset();this.$tips.css(t)},i.prototype.getOffset=function(){var t=this.options.placement,i=this.$element,e=this.$tips,s=i.offset(),n=i.outerWidth(),o=i.outerHeight(),r=e.outerWidth(),a=e.outerHeight();switch(t){case"left":return{top:s.top+o/2-a/2,left:s.left-r};case"top":return{top:s.top-a,left:s.left+n/2-r/2};case"right":return{top:s.top+o/2-a/2,left:s.left+n};case"bottom":return{top:s.top+o,left:s.left+n/2-r/2}}},i.prototype.show=function(){return 0===t.trim(this.options.content).length?void this.hide():(this.isShow=!0,this.setPosition(),void this.$tips.show().addClass("in"))},i.prototype.hide=function(){this.isShow=!1,this.$tips.hide().removeClass("in")},i.prototype.toggle=function(){return this.isShow?this.hide():this.show(),!1},i}),define("catke/util",function(){"use strict";var t={ie:function(){for(var t,i=3,e=document.createElement("div"),s=e.getElementsByTagName("i");e.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->",s[0];);return i>4?i:t}()};return t}),define("catke/validate",["jquery","validator","catke/tooltips"],function(t,i,e){"use strict";var s=["equals","contains","matches","isEmail","isFQDN","isURL","isIP","isAlpha","isNumeric","isAlphanumeric","isBase64","isHexadecimal","isHexColor","isLowercase","isUppercase","isInt","isFloat","isDivisibleBy","isNull","isLength","isUUID","isDate","isAfter","isBefore","isIn","isCreditCard","isISBN","isJSON","isMultibyte","isAscii","isFullWidth","isHalfWidth","isVariableWidth","isSurrogatePair","isMongoId"],n=function(t){return t.isInstantiate||(t=t()),t},o=function(i,e){if(!1===t.isArray(e))return[n(e)(i),null,n(e).type];if(2===e.length&&"string"===t.type(e[1]))return[n(e[0])(i),e[1],n(e[0]).type];var s=[!0];return t.each(e,function(e,o){if(t.isArray(o)){if(2!==o.length)throw new Error("validator rule fail");if(!1===n(o[0])(i))return s=[!1,o[1],n(o[0]).type],!1}else if(!1===n(o)(i))return s=[!1,null,n(o).type],!1}),s},r=function(i,e){this.options=t.extend(r.DEFAULTS,e||{}),this.rules=this.options.rules,this.$form=i,this.init()};return r.prototype.getFields=function(){this.fields=[];var i=this;this.$form.find("input[name], select[name], textarea[name]").filter(function(){return this.name in i.rules}).each(function(){i.fields.push(t(this))})},r.prototype.init=function(){var i=this;this.getFields(),this.$form.on("focus","input[name], select[name], textarea[name]",function(){i.hideError(t(this))})},r.prototype.valid=function(){var i=!0,e=this.getData(),s=this;return t.each(this.fields,function(t,n){var r=n.attr("name"),a=e[r],l=o(a,s.rules[r]);if(i=l[0],!1===i){var h=l[1]||s.getDefErrMsg(l[2]);s.showError(n,h)}return i}),i},r.prototype.hideError=function(t){t.removeClass(this.options.errorClass);var i=t.data("ckTip");i&&i.hide()},r.prototype.showError=function(t,i){t.addClass(this.options.errorClass);var s=t.data("ckTip"),n=this;s?s.setContent(i):(s=new e(t,{placement:"bottom",trigger:"manual",content:i}),s.$tips.css({zIndex:n.options.tipZindex}),t.data("ckTip",s)),s.show()},r.prototype.getDefErrMsg=function(t){var i={required:"这是一个必填项",isEmail:"请正确填写邮箱",isURL:"连接不合法",isAlpha:"只容许字母",isNumeric:"只容许数字",isAlphanumeric:"只容许字母，数字，下划线",isLength:"数值超出范围了",isByteLength:"字符的长度与要求不符"};return i[t]?i[t]:"与要求不符"},r.prototype.getData=function(){var i={},e=this;return e.$form.find("input[name], select[name], textarea[name]").each(function(){var e=t(this);if(e.is("[type=checkbox]")===!1&&e.is("[type=radio]")===!1)i[e.attr("name")]=t.trim(e.val());else if(e.is("[type=radio]:checked"))i[e.attr("name")]=t.trim(e.val());else if(e.is("[type=checkbox]:checked")){var s=e.attr("name");i[s]||(i[s]=[]),i[s].push(e.val())}}),i},r.required=function(){var i=function(i){return t.trim(String(i||"")).length>0};return i.type="required",i.isInstantiate=!0,i},t.each(s,function(t,e){r[e]=function(){var t=1<=arguments.length?[].slice.call(arguments,0):[],s=function(s){return t.splice(0,0,s),i[e].apply(null,t)};return s.type=e,s.isInstantiate=!0,s}}),r.DEFAULTS={errorClass:"error",rules:{},tipZindex:10},r}),define("catke",["catke/placeholder","catke/task","catke/tooltips","catke/util","catke/validate"],function(t,i,e,s,n){return{placeholder:t,Task:i,Tooltips:e,util:s,Validate:n}});